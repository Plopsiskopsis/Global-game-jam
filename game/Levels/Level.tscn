[gd_scene load_steps=35 format=2]

[ext_resource path="res://Levels/Level.gd" type="Script" id=1]
[ext_resource path="res://Objects/Graphics/NPC_1_Default.png" type="Texture" id=2]
[ext_resource path="res://Levels/Graphics/Background_Tile.png" type="Texture" id=3]
[ext_resource path="res://Objects/temp_menu_button.PNG" type="Texture" id=4]
[ext_resource path="res://fonts/font.tres" type="DynamicFont" id=5]
[ext_resource path="res://Objects/Graphics/Item_Failure_Goo.png" type="Texture" id=6]
[ext_resource path="res://Objects/Requested_item.tscn" type="PackedScene" id=7]
[ext_resource path="res://Objects/Graphics/Alchemy_Circle.png" type="Texture" id=8]
[ext_resource path="res://Objects/temp_speech_bubble.PNG" type="Texture" id=9]
[ext_resource path="res://Objects/temp_love.PNG" type="Texture" id=10]
[ext_resource path="res://Objects/temp_hate.PNG" type="Texture" id=11]
[ext_resource path="res://Objects/temp_okay.PNG" type="Texture" id=12]
[ext_resource path="res://Objects/temp_trash.PNG" type="Texture" id=13]
[ext_resource path="res://shaders/clear2.shader" type="Shader" id=14]
[ext_resource path="res://shaders/clear.shader" type="Shader" id=15]
[ext_resource path="res://Levels/Graphics/Background_Door.png" type="Texture" id=16]
[ext_resource path="res://Objects/Graphics/NPC_1_Unhappy.png" type="Texture" id=17]
[ext_resource path="res://Objects/Graphics/NPC_1_Happy.png" type="Texture" id=18]
[ext_resource path="res://shaders/clear3.shader" type="Shader" id=19]

[sub_resource type="Shader" id=1]
code = "shader_type canvas_item;

void fragment()
{
	COLOR = texture(TEXTURE, UV);
	if (COLOR.r <= 0.075)
	{
		COLOR = vec4(0.0);
	} else 
	{
		COLOR = texture(TEXTURE, UV) * vec4(sin(TIME - UV.y - UV.x), sin(TIME - UV.y), sin(TIME - UV.x), 1.0);
	}
}"

[sub_resource type="ShaderMaterial" id=2]
shader = SubResource( 1 )

[sub_resource type="Gradient" id=3]
offsets = PoolRealArray( 0, 0.414815, 0.755556, 1 )
colors = PoolColorArray( 1, 0.469028, 0.0273438, 1, 0.67041, 0.0785637, 0.0785637, 1, 0, 0.153959, 0.900879, 1, 1, 1, 1, 1 )

[sub_resource type="GradientTexture" id=4]
gradient = SubResource( 3 )

[sub_resource type="ParticlesMaterial" id=5]
emission_shape = 2
emission_box_extents = Vector3( 120, 60, 1 )
flag_disable_z = true
gravity = Vector3( 0, -98, 0 )
angular_velocity = 0.1
angular_velocity_random = 0.24
orbit_velocity = 0.05
orbit_velocity_random = 0.7
linear_accel = 1.0
radial_accel = 1.0
scale = 1.5
color_ramp = SubResource( 4 )

[sub_resource type="ShaderMaterial" id=6]

[sub_resource type="ShaderMaterial" id=7]
shader = ExtResource( 15 )

[sub_resource type="ShaderMaterial" id=8]
shader = ExtResource( 19 )

[sub_resource type="ShaderMaterial" id=9]
shader = ExtResource( 14 )

[sub_resource type="ShaderMaterial" id=10]
shader = ExtResource( 14 )

[sub_resource type="ShaderMaterial" id=11]
shader = ExtResource( 14 )

[sub_resource type="ShaderMaterial" id=12]
shader = ExtResource( 15 )

[sub_resource type="Animation" id=13]
tracks/0/type = "value"
tracks/0/path = NodePath("Top_center/temp_hate:visible")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0, 1 ),
"transitions": PoolRealArray( 1, 1 ),
"update": 1,
"values": [ true, false ]
}
tracks/1/type = "value"
tracks/1/path = NodePath("Item_Failure_Goo:visible")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/keys = {
"times": PoolRealArray( 0, 1 ),
"transitions": PoolRealArray( 1, 1 ),
"update": 1,
"values": [ true, false ]
}
tracks/2/type = "value"
tracks/2/path = NodePath("Top_center/NPC:texture")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/keys = {
"times": PoolRealArray( 0, 1 ),
"transitions": PoolRealArray( 1, 1 ),
"update": 1,
"values": [ ExtResource( 17 ), ExtResource( 2 ) ]
}

[sub_resource type="Animation" id=14]
tracks/0/type = "value"
tracks/0/path = NodePath("Top_center/temp_love:visible")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0, 1 ),
"transitions": PoolRealArray( 1, 1 ),
"update": 1,
"values": [ true, false ]
}
tracks/1/type = "value"
tracks/1/path = NodePath("Top_center/NPC:texture")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/keys = {
"times": PoolRealArray( 0, 1 ),
"transitions": PoolRealArray( 1, 1 ),
"update": 1,
"values": [ ExtResource( 18 ), ExtResource( 2 ) ]
}

[sub_resource type="Animation" id=15]
length = 2.0
tracks/0/type = "value"
tracks/0/path = NodePath("Top_center:rect_position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0, 1, 1.1, 2 ),
"transitions": PoolRealArray( 1, 1, 1, 1 ),
"update": 0,
"values": [ Vector2( 127.961, 151.532 ), Vector2( 276.126, 182.961 ), Vector2( -37.2658, 193.288 ), Vector2( 127.961, 151.532 ) ]
}
tracks/1/type = "value"
tracks/1/path = NodePath("Top_center:modulate")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/keys = {
"times": PoolRealArray( 0, 1, 1.1, 2 ),
"transitions": PoolRealArray( 1, 1, 1, 1 ),
"update": 0,
"values": [ Color( 1, 1, 1, 1 ), Color( 1, 1, 1, 0 ), Color( 1, 1, 1, 0 ), Color( 1, 1, 1, 1 ) ]
}
tracks/2/type = "value"
tracks/2/path = NodePath("Requested_item:visible")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/keys = {
"times": PoolRealArray( 0, 2 ),
"transitions": PoolRealArray( 1, 1 ),
"update": 1,
"values": [ false, true ]
}
tracks/3/type = "value"
tracks/3/path = NodePath("temp_speech_bubble:visible")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/keys = {
"times": PoolRealArray( 0, 2 ),
"transitions": PoolRealArray( 1, 1 ),
"update": 1,
"values": [ false, true ]
}

[node name="Level" type="Node"]
script = ExtResource( 1 )

[node name="Background_Tiling" type="TextureRect" parent="."]
margin_right = 512.0
margin_bottom = 1024.0
texture = ExtResource( 3 )
expand = true
stretch_mode = 2
__meta__ = {
"_edit_use_anchors_": false
}

[node name="BackgroundContainer" type="CenterContainer" parent="."]
anchor_right = 1.0
anchor_bottom = 1.0
margin_left = 2.0
margin_top = -2.0
margin_right = 2.0
margin_bottom = -2.0
mouse_filter = 2
__meta__ = {
"_edit_use_anchors_": false,
"_editor_description_": ""
}

[node name="Background_Door" type="Sprite" parent="BackgroundContainer"]
position = Vector2( 254.413, 263.269 )
scale = Vector2( 0.862041, 0.862041 )
texture = ExtResource( 16 )

[node name="Cauldron_Container" type="CenterContainer" parent="."]
margin_top = 719.0
margin_bottom = 719.0
mouse_filter = 2
__meta__ = {
"_edit_use_anchors_": false
}

[node name="temp_cauldron" type="Sprite" parent="Cauldron_Container"]
material = SubResource( 2 )
position = Vector2( 254.413, 200 )
texture = ExtResource( 8 )

[node name="Particles2D" type="Particles2D" parent="Cauldron_Container/temp_cauldron"]
amount = 512
process_material = SubResource( 5 )

[node name="Tappables" type="Node" parent="."]

[node name="Position2D" type="Position2D" parent="Tappables" groups=[
"POS",
]]
position = Vector2( 70.6353, 556.673 )

[node name="Position2D2" type="Position2D" parent="Tappables" groups=[
"POS",
]]
position = Vector2( 195.088, 571.81 )

[node name="Position2D3" type="Position2D" parent="Tappables" groups=[
"POS",
]]
position = Vector2( 304.405, 570.128 )

[node name="Position2D4" type="Position2D" parent="Tappables" groups=[
"POS",
]]
position = Vector2( 410.357, 583.582 )

[node name="Position2D5" type="Position2D" parent="Tappables" groups=[
"POS",
]]
position = Vector2( 72.3171, 687.853 )

[node name="Position2D6" type="Position2D" parent="Tappables" groups=[
"POS",
]]
position = Vector2( 196.77, 696.262 )

[node name="Position2D7" type="Position2D" parent="Tappables" groups=[
"POS",
]]
position = Vector2( 316.177, 682.808 )

[node name="Position2D8" type="Position2D" parent="Tappables" groups=[
"POS",
]]
position = Vector2( 433.903, 713.08 )

[node name="Position2D9" type="Position2D" parent="Tappables" groups=[
"POS",
]]
position = Vector2( 258.996, 763.534 )

[node name="Top_center" type="CenterContainer" parent="."]
anchor_right = 1.0
anchor_bottom = 1.0
margin_left = 127.961
margin_top = 151.532
margin_right = 127.961
margin_bottom = -148.468
rect_scale = Vector2( 0.5, 0.5 )
mouse_filter = 2
__meta__ = {
"_edit_use_anchors_": false
}

[node name="NPC" type="TextureRect" parent="Top_center"]
material = SubResource( 6 )
margin_top = 55.0
margin_right = 512.0
margin_bottom = 669.0
texture = ExtResource( 2 )
__meta__ = {
"_edit_use_anchors_": false
}

[node name="temp_love" type="Sprite" parent="Top_center"]
visible = false
modulate = Color( 1, 0, 0, 1 )
material = SubResource( 7 )
position = Vector2( 290.288, 200.867 )
scale = Vector2( 2, 2 )
texture = ExtResource( 10 )

[node name="temp_hate" type="Sprite" parent="Top_center"]
visible = false
modulate = Color( 0, 0.0156863, 1, 1 )
material = SubResource( 8 )
position = Vector2( 125.401, 176.077 )
scale = Vector2( 2, 2 )
texture = ExtResource( 11 )

[node name="Requested_item" parent="." instance=ExtResource( 7 )]
position = Vector2( 165.078, 356.325 )

[node name="temp_speech_bubble" type="Sprite" parent="."]
material = SubResource( 9 )
position = Vector2( 386.28, 306.433 )
texture = ExtResource( 9 )

[node name="Label" type="Label" parent="temp_speech_bubble"]
margin_left = -58.007
margin_top = -82.4881
margin_right = 68.993
margin_bottom = 46.5119
custom_fonts/font = ExtResource( 5 )
custom_colors/font_color = Color( 0, 0, 0, 1 )
custom_colors/font_outline_modulate = Color( 1, 1, 1, 1 )
text = "Label to cover the speech bubble"
autowrap = true
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Trash_button" type="TextureButton" parent="."]
visible = false
material = SubResource( 10 )
margin_left = 9.58368
margin_top = 865.183
margin_right = 90.5837
margin_bottom = 952.183
texture_normal = ExtResource( 13 )
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Okay_button" type="TextureButton" parent="."]
visible = false
material = SubResource( 11 )
margin_left = 402.915
margin_top = 863.769
margin_right = 509.915
margin_bottom = 966.769
texture_normal = ExtResource( 12 )
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Ingredients_Container" type="CenterContainer" parent="."]
anchor_right = 1.0
anchor_bottom = 1.0
margin_top = 483.0
margin_bottom = -176.0
mouse_filter = 2
__meta__ = {
"_edit_use_anchors_": false
}

[node name="MenuButton" type="TextureButton" parent="."]
material = SubResource( 12 )
margin_right = 40.0
margin_bottom = 40.0
texture_normal = ExtResource( 4 )
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Score" type="Label" parent="."]
margin_left = 10.0
margin_top = 10.0
margin_right = 502.0
margin_bottom = 30.0
custom_fonts/font = ExtResource( 5 )
text = "Score 00"
align = 2
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Tap_tween" type="Tween" parent="."]

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]
anims/hate = SubResource( 13 )
anims/love = SubResource( 14 )

[node name="Shopper_anim" type="AnimationPlayer" parent="."]
anims/new_shopper = SubResource( 15 )

[node name="Position2D" type="Position2D" parent="."]
position = Vector2( 246.1, 905.876 )

[node name="Item_Failure_Goo" type="Sprite" parent="."]
visible = false
position = Vector2( 247.676, 895.335 )
scale = Vector2( 2, 2 )
texture = ExtResource( 6 )

[node name="Time_label" type="Label" parent="."]
margin_left = 200.0
margin_top = 10.0
margin_right = 301.0
margin_bottom = 40.0
custom_fonts/font = ExtResource( 5 )
text = "Time XX"
__meta__ = {
"_edit_use_anchors_": false
}

[connection signal="pressed" from="Trash_button" to="." method="_on_Trash_button_pressed"]
[connection signal="pressed" from="Okay_button" to="." method="_on_Okay_button_pressed"]
[connection signal="pressed" from="MenuButton" to="." method="_on_TextureButton_pressed"]
